<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta content name=keywords><meta content="Mostafa Abdelrahman" name=author><meta property="og:title" content="The Luhn Formula - Beyond Lambda"><meta property="og:url" content="https://mostafaeissa.github.io/post/the-luhn-formula/"><meta property="og:description" content><meta property="og:type" content="website"><title>The Luhn Formula | Beyond Lambda</title>
<link rel=stylesheet href=https://mostafaeissa.github.io//css/style.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css><script type=text/javascript>window.MathJax={tex:{}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script></head><body><section class=section><div class=container><nav class=nav><img src=/android-chrome-512x512.png alt=Avatar style=margin-right:1em height=100px><div class=nav-left style=flex-basis:auto><a class=nav-item href=https://mostafaeissa.github.io/><h1 class="title is-4">Beyond Lambda</h1></a><nav class="nav-item level is-mobile"><a class=level-item href=/tags>tags
</a><a class=level-item href=https://mostafaeissa.github.io/about/>about</a></nav></div><div class=nav-right><nav class="nav-item level is-mobile"><a class=level-item href=https://github.com/MostafaEissa target=_blank><span class=icon><i class="fa fa-github"></i>
</span></a><a class=level-item href=https://linkedin.com/in/mostafa-abdelrahman-16356b12a target=_blank><span class=icon><i class="fa fa-linkedin-square"></i>
</span></a><a class=level-item href=https://mostafaeissa.github.io/index.xml target=_blank><span class=icon><i class="fa fa-rss"></i></span></a></nav></div></nav></div></section><section class=section><div class=container><h1 class=title>The Luhn Formula</h1><h2 class="subtitle is-5">November 1, 2021 by Mostafa Abdelrahman</h2><div class=tags><a class="button is-link" href=https://mostafaeissa.github.io/tags/algorithms>Algorithms</a>
<a class="button is-link" href=https://mostafaeissa.github.io/tags/programming>Programming</a></div><div class=content><p>The Luhn formula is a simple checksum formula used for validating identification numbers. It is designed to protect against accidental errors in data entry but not malicious attacks. For example, on a website a user may enter a credit card number or ISBN and sometimes these numbers may be mistyped. One can then use the Luhn formula to determine if the entered number is a valid one.</p><p>The validation algorithm is as follows:</p><ol><li>From the rightmost digit, double the value of every other digit.</li><li>If a doubled value has two digits then add the digits individually.</li><li>The number is valid under the Luhn formula: <em><strong>if the sum of all the digits is divisible by 10 <code>(sum mod 10 == 0)</code></strong></em></li></ol><p>For Example, consider the number <code>1762483</code>. We want to determine if it is a valid identification number using the Luhn formula?</p><p><em>Number</em> | 1 | 7 | 6 | 2 | 4 | 8 | 3
<em>Double every other digit</em> |1 | <strong>14</strong> | 6 | <strong>4</strong> | 4 | <strong>16</strong> | 3
<em>Sum digit</em> | 1 | <strong>5</strong> | 6 | <strong>4</strong> | 4 | <strong>7</strong> | 3</p><p><em><strong>Total Sum =</strong></em> 1 + 5 + 6 + 4 + 4 + 7 + 3 = 30</p><p>The total sum (30) is divisible by 10 and hence <code>1762483</code> is valid under the Luhn formula.</p><p>Here is the actual implementation in python</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>luhn_formula_validator</span>(input):
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#39;&#39;&#39;Check the input number under the Luhn Formula
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	-----------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	input: input number as sting.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	Returns:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	--------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	boolean
</span></span></span><span style=display:flex><span><span style=color:#e6db74>	&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>#convert digits to list</span>
</span></span><span style=display:flex><span>	input_list <span style=color:#f92672>=</span> [int(x) <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> input]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	position <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>	sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> number <span style=color:#f92672>in</span> input_list:
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> position <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>			number <span style=color:#f92672>=</span> number <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#75715e>#sum individual digits of a doubled digit</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> number <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>9</span>:
</span></span><span style=display:flex><span>			number <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> number <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		sum <span style=color:#f92672>+=</span> number
</span></span><span style=display:flex><span>		position <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> sum <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div></div></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script></body>