<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Galloping Search - Beyond Lambda</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content><meta name=description content="Suppose we we have sorted array and we are interested in finding a particular element. There are a number of ways we can go about it.
"><meta name=generator content="Hugo 0.129.0 with theme even"><link rel=canonical href=https://mostafaeissa.github.io/post/galloping-search/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link href=/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><meta property="og:url" content="https://mostafaeissa.github.io/post/galloping-search/"><meta property="og:site_name" content="Beyond Lambda"><meta property="og:title" content="Galloping Search"><meta property="og:description" content="Suppose we we have sorted array and we are interested in finding a particular element. There are a number of ways we can go about it."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-07-26T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-26T00:00:00+00:00"><meta itemprop=name content="Galloping Search"><meta itemprop=description content="Suppose we we have sorted array and we are interested in finding a particular element. There are a number of ways we can go about it."><meta itemprop=datePublished content="2024-07-26T00:00:00+00:00"><meta itemprop=dateModified content="2024-07-26T00:00:00+00:00"><meta itemprop=wordCount content="796"><meta itemprop=keywords content="Information Retrieval,Algorithms"><meta name=twitter:card content="summary"><meta name=twitter:title content="Galloping Search"><meta name=twitter:description content="Suppose we we have sorted array and we are interested in finding a particular element. There are a number of ways we can go about it."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Beyond Lambda</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Beyond Lambda</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Galloping Search</h1><div class=post-meta><span class=post-time>2024-07-26</span><div class=post-category><a href=/categories/information-retrieval/>Information Retrieval </a><a href=/categories/algorithms/>Algorithms</a></div><span class=more-meta>796 words </span><span class=more-meta>4 mins read</span></div></header><div class=post-content><p>Suppose we we have <strong>sorted</strong> array and we are interested in finding a particular element. There are a number of ways we can go about it.</p><p>Let&rsquo;s give a concrete example, The array is of length $\mathcal{L}$ containing the following elements:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[
</span></span><span class=line><span class=cl>283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409,
</span></span><span class=line><span class=cl>419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541,
</span></span><span class=line><span class=cl>547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659,
</span></span><span class=line><span class=cl>661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809,
</span></span><span class=line><span class=cl>811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941
</span></span><span class=line><span class=cl>]
</span></span></code></pre></td></tr></table></div></div><p>and we are interested in finding <code>467</code> (which resides at index 31). In our diagrams we will follow the same notation used in <a href=https://www.amazon.com/Information-Retrieval-Implementing-Evaluating-Engines/dp/0262528878>Information Retrieval Implementing and Evaluating Search Engines</a> excellent book.</p><h3 id=linear-search>Linear Search</h3><p>The simplest solution is to scan the array in a linear fashion until we find it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>def</span> <span class=nf>linear_search</span><span class=p>[</span><span class=n>A</span><span class=p>](</span><span class=n>arr</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>A</span><span class=p>],</span> <span class=n>x</span><span class=p>:</span> <span class=n>A</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>i</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>while</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span> <span class=ow>and</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=k>return</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>		<span class=n>i</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>		
</span></span><span class=line><span class=cl>    <span class=c1># if we reach here then the element is not present</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p>Since the array is already sorted if we reach an element bigger than our target we can conclude that the target is not found in the array and we can terminate.</p><p>The diagram below shows how the linear search would go, at each step we <strong>hop</strong> one step until we find our target.</p><div class=align-center><p><img src=/images/galloping-search/linear-search.png alt="Linear Search"></p></div><p>In the worst case we would need to scan the entire array which makes our time complexity $O(\mathcal{L})$</p><h3 id=binary-search>Binary Search</h3><p>A faster approach is binary search where we try to successively half the interval to scan until we find the target element. At each step we compare the target value with the middle element. If they are not equal and because the array is sorted we can eliminate half the array and search in the remaining half.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>def</span> <span class=nf>binary_search</span><span class=p>[</span><span class=n>A</span><span class=p>](</span><span class=n>arr</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>A</span><span class=p>],</span> <span class=n>x</span><span class=p>:</span> <span class=n>A</span><span class=p>,</span> <span class=n>start</span><span class=p>:</span><span class=nb>int</span><span class=o>|</span><span class=kc>None</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span><span class=nb>int</span><span class=o>|</span><span class=kc>None</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>start</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=n>start</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=n>end</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=n>end</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>end</span> <span class=o>&gt;=</span> <span class=n>start</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>//</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>        <span class=c1># If the element is present at the middle</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>arr</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>==</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>mid</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>        <span class=c1># If the element is smaller than mid, then it can only be present in the left sub-array</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>arr</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>end</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>        <span class=c1># Else it can only be present in the right sub-array</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>binary_search</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>    <span class=c1># if we reach here then the element is not present</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p>The diagram below shows how the binary search would go, at each step we <strong>hop</strong> by half the length of the sub-array until we find our target.</p><div class=align-center><p><img src=/images/galloping-search/binary-search.png alt="Binary Search"></p></div><p>Because we are halving the array at each step, binary search runs in logarithmic time with complexity $O(\log(\mathcal{L}))$</p><h3 id=galloping-search-combining-them-together>Galloping Search: Combining Them Together</h3><p>Galloping Search (a.k.a. exponential search) is an idea that tries to combine both approaches:</p><ul><li>First, we do a linear scan in <strong>exponentially increasing steps (gallops)</strong> until we hit an element larger than our target value.</li><li>Then, we do a binary search in the range between the last two jumps which is a smaller range than doing a binary search on the entire array.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Python data-lang=Python><span class=line><span class=cl><span class=k>def</span> <span class=nf>galloping_search</span><span class=p>(</span><span class=n>arr</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>A</span><span class=p>],</span> <span class=n>x</span><span class=p>:</span> <span class=n>A</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># if x is present at first location</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>         
</span></span><span class=line><span class=cl>    <span class=c1># Find range for binary search by repeated doubling</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=ow>and</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>x</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>i</span> <span class=o>=</span> <span class=n>i</span> <span class=o>*</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>     
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>binary_search</span><span class=p>(</span> <span class=n>arr</span><span class=p>,</span> <span class=n>i</span> <span class=o>//</span> <span class=mi>2</span><span class=p>,</span> <span class=nb>min</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>),</span> <span class=n>x</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>The diagram below shows how the galloping search would go. First, we <strong>hop</strong> in exponentially increasing steps {1,2,4,8,16,&mldr;} until we pass our target element. Then we do binary search between the previous and current position.</p><div class=align-center><p><img src=/images/galloping-search/galloping-search.png alt="Galloping Search"></p></div><p>Galloping search also runs in logarithmic time but with complexity $O(\log(\mathcal{l}))$ where $\mathcal{l}$ is the index of the target element.</p><p>Galloping search can be faster if the target element is near the beginning of the array. This can be useful if we want to perform repeated searches i.e., find all elements in one array in another array.</p></div><footer class=post-footer><nav class=post-nav><a class=next href=/post/binary-representation-of-negative-numbers/><span class="next-text nav-default">Binary Representation of Negative Numbers</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=copyright>Disclaimer: The posts on this site are my own and do not represent my employer's view in any way.<div><br><div class=social-links><a href=https://github.com/MostafaEissa class="iconfont icon-github" title=github></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy;
2019 -
2024<span class=heart><i class="iconfont icon-heart"></i></span><span>Mostafa Abdelrahman</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/lib/fancybox/jquery.fancybox-3.1.20.min.js></script><script type=text/javascript src=/js/main.min.1821caf6efbc14cf4fb96fdb63c79a3babde5deb1fb600e97b9a2ced5678a2ed.js></script><script type=text/javascript>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script></body></html>